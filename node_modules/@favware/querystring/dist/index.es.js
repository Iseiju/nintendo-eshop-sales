var e;!function(e){e.Parse="parse",e.Stringify="stringify"}(e||(e={}));var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e.toString():"";default:return""}},r=function(t,r){switch(r){case e.Parse:return{err:t};case e.Stringify:default:return t}},n=function(n,o){void 0===o&&(o={separator:"&",equals:"=",includeQuestion:!1});try{if(!n||Object.keys(n).length<=0)throw new Error("object_is_empty");if("object"!=typeof n)throw new Error("input_not_object");o.separator||(o.separator="&"),o.equals||(o.equals="="),o.includeQuestion||(o.includeQuestion=!1);var i=Object.keys(n).sort().map(function(e){var r=encodeURIComponent(t(e))+o.equals;return void 0===n[e]?"":null===n[e]?encodeURIComponent(e):Array.isArray(n[e])?n[e].map(function(e){return r+encodeURIComponent(t(e))}).join(o.separator):r+encodeURIComponent(t(n[e]))}).filter(Boolean);return o.includeQuestion&&(i[0]="?"+i[0]),i.join(o.separator)}catch(i){return/object_is_empty/i.test(i.toString())?(o.includeQuestion?"?":"")+encodeURIComponent(t(n)):/input_not_object/i.test(i.toString())?r("@Favware/Querystring: Your input was not an object. Please supply an object when using Stringify",e.Stringify):i}},o=function(t,n){void 0===t&&(t=""),void 0===n&&(n={separator:"&",equals:"="});try{if("string"!=typeof t)throw new Error("input_not_string");if(""===t)return{};/^https?:\/\//.test(t)&&(t=t.split("?")[1]),n.separator||(n.separator="&"),n.equals||(n.equals="="),t.startsWith("?")&&(t=t.slice(1));var o={},i=/\+/g,s=t.split(n.separator),a=s.length;a>1e3&&(a=1e3);for(var u=0,p=s;u<p.length;u++){var c=p[u].replace(i,"%20"),l=c.indexOf(n.equals),f=void 0,d=void 0;l>=0?(f=c.substr(0,l),d=c.substr(l+1)):(f=c,d="");var g=decodeURIComponent(f),y=decodeURIComponent(d);o.hasOwnProperty(g)?Array.isArray(o[g])?o[g].push(y):o[g]=[o[g],y]:o[g]=y}return o}catch(t){return/input_not_string/i.test(t.toString())?r("@Favware/Querystring: Your input was not an string. Please supply a string when using Parse",e.Parse):t}};export default n;export{o as parse,n as stringify};
//# sourceMappingURL=index.es.js.map
