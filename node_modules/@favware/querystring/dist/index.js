"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(r){r.Parse="parse",r.Stringify="stringify"}(exports.FunctionSource||(exports.FunctionSource={}));var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r.toString():"";default:return""}},handleQuerystringError=function(r,t){switch(t){case exports.FunctionSource.Parse:return{err:r};case exports.FunctionSource.Stringify:default:return r}},stringify=function(r,t){void 0===t&&(t={separator:"&",equals:"=",includeQuestion:!1});try{if(!r||Object.keys(r).length<=0)throw new Error("object_is_empty");if("object"!=typeof r)throw new Error("input_not_object");t.separator||(t.separator="&"),t.equals||(t.equals="="),t.includeQuestion||(t.includeQuestion=!1);var e=Object.keys(r).sort().map((function(e){var n=encodeURIComponent(stringifyPrimitive(e))+t.equals;return void 0===r[e]||null===r[e]?"":Array.isArray(r[e])?r[e].map((function(r){return n+encodeURIComponent(stringifyPrimitive(r))})).join(t.separator):n+encodeURIComponent(stringifyPrimitive(r[e]))})).filter(Boolean);return t.includeQuestion&&(e[0]="?"+e[0]),e.join(t.separator)}catch(e){return/object_is_empty/i.test(e.toString())?(t.includeQuestion?"?":"")+encodeURIComponent(stringifyPrimitive(r)):/input_not_object/i.test(e.toString())?handleQuerystringError("@Favware/Querystring: Your input was not an object. Please supply an object when using Stringify",exports.FunctionSource.Stringify):e}},parse=function(r,t){void 0===r&&(r=""),void 0===t&&(t={separator:"&",equals:"="});try{if("string"!=typeof r)throw new Error("input_not_string");if(""===r)return{};/^https?:\/\//.test(r)&&(r=r.split("?")[1]),t.separator||(t.separator="&"),t.equals||(t.equals="="),r.startsWith("?")&&(r=r.slice(1));var e={},n=/\+/g,i=r.split(t.separator),o=i.length;o>1e3&&(o=1e3);for(var s=0,a=i;s<a.length;s++){var u=a[s].replace(n,"%20"),c=u.indexOf(t.equals),p=void 0,l=void 0;c>=0?(p=u.substr(0,c),l=u.substr(c+1)):(p=u,l="");var f=decodeURIComponent(p),y=decodeURIComponent(l);e.hasOwnProperty(f)?Array.isArray(e[f])?e[f].push(y):e[f]=[e[f],y]:e[f]=y}return e}catch(r){return/input_not_string/i.test(r.toString())?handleQuerystringError("@Favware/Querystring: Your input was not an string. Please supply a string when using Parse",exports.FunctionSource.Parse):r}};exports.default=stringify,exports.parse=parse,exports.stringify=stringify;
//# sourceMappingURL=index.js.map
