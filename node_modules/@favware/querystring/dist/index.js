"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),(e=exports.FunctionSource||(exports.FunctionSource={})).Parse="parse",e.Stringify="stringify";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e.toString():"";default:return""}},r=function(e,t){switch(t){case exports.FunctionSource.Parse:return{err:e};case exports.FunctionSource.Stringify:default:return e}},n=function(e,n){void 0===n&&(n={separator:"&",equals:"=",includeQuestion:!1});try{if(!e||Object.keys(e).length<=0)throw new Error("object_is_empty");if("object"!=typeof e)throw new Error("input_not_object");n.separator||(n.separator="&"),n.equals||(n.equals="="),n.includeQuestion||(n.includeQuestion=!1);var o=Object.keys(e).sort().map((function(r){var o=encodeURIComponent(t(r))+n.equals;return void 0===e[r]||null===e[r]?"":Array.isArray(e[r])?e[r].map((function(e){return o+encodeURIComponent(t(e))})).join(n.separator):o+encodeURIComponent(t(e[r]))})).filter(Boolean);return n.includeQuestion&&(o[0]="?"+o[0]),o.join(n.separator)}catch(o){return/object_is_empty/i.test(o.toString())?(n.includeQuestion?"?":"")+encodeURIComponent(t(e)):/input_not_object/i.test(o.toString())?r("@Favware/Querystring: Your input was not an object. Please supply an object when using Stringify",exports.FunctionSource.Stringify):o}};exports.default=n,exports.parse=function(e,t){void 0===e&&(e=""),void 0===t&&(t={separator:"&",equals:"="});try{if("string"!=typeof e)throw new Error("input_not_string");if(""===e)return{};/^https?:\/\//.test(e)&&(e=e.split("?")[1]),t.separator||(t.separator="&"),t.equals||(t.equals="="),e.startsWith("?")&&(e=e.slice(1));var n={},o=/\+/g,s=e.split(t.separator),i=s.length;i>1e3&&(i=1e3);for(var u=0,a=s;u<a.length;u++){var c=a[u].replace(o,"%20"),p=c.indexOf(t.equals),l=void 0,f=void 0;p>=0?(l=c.substr(0,p),f=c.substr(p+1)):(l=c,f="");var d=decodeURIComponent(l),g=decodeURIComponent(f);d in n?Array.isArray(n[d])?n[d].push(g):n[d]=[n[d],g]:n[d]=g}return n}catch(e){return/input_not_string/i.test(e.toString())?r("@Favware/Querystring: Your input was not an string. Please supply a string when using Parse",exports.FunctionSource.Parse):e}},exports.stringify=n;
//# sourceMappingURL=index.js.map
